# 🎨 新的 Flex Message 設計指南

## 📋 設計概述

基於附圖設計，新的 Flex Message 採用更簡潔、更直觀的佈局，提供更好的用戶體驗。

## 🏗️ 架構設計

### **整體結構**
```
Flex Message
├── 標題區 (綠色背景)
│   ├── 左側：警訊分析
│   └── 右側：🚨 + 風險等級
├── 內容區 (白色背景)
│   ├── AI 信心度 (進度條 + 百分比)
│   ├── 分析摘要 (👨‍⚕️ + 文字)
│   └── 警訊列表 (!! + 可點擊項目)
└── 底部按鈕區
    ├── 🛒 AI小幫手原文 (連結)
    ├── 📊 查看完整分析 (主要按鈕)
    └── 💡 建議下一步 (次要按鈕)
```

## 🎯 設計特色

### **1. 視覺層次分明**
- **綠色標題**：統一品牌色彩，突出重要性
- **進度條設計**：直觀顯示 AI 信心度
- **圖標輔助**：增強可讀性和識別度

### **2. 互動性增強**
- **可點擊警訊**：用戶可點擊查看詳細資訊
- **多個行動按鈕**：提供不同的後續行動選項
- **LIFF 整合**：無縫跳轉到詳細分析頁面

### **3. 資訊密度適中**
- **關鍵資訊優先**：最重要的資訊放在顯眼位置
- **分層展示**：從概覽到詳細的漸進式資訊呈現
- **響應式設計**：適配不同螢幕尺寸

## 🔧 技術實作

### **顏色配置**
```json
{
  "header_bg": "#27AE60",      // 綠色標題背景
  "risk_high": "#E74C3C",      // 高風險紅色
  "risk_medium": "#F39C12",    // 中風險橙色
  "risk_low": "#27AE60",       // 低風險綠色
  "progress_bg": "#F5F5F5",    // 進度條背景
  "progress_fill": "#E0E0E0",  // 進度條填充
  "text_primary": "#000000",    // 主要文字
  "text_secondary": "#666666"   // 次要文字
}
```

### **按鈕配置**
```json
{
  "primary_button": {
    "style": "primary",
    "color": "#27AE60"
  },
  "secondary_button": {
    "style": "secondary", 
    "color": "#3498DB"
  },
  "link_button": {
    "style": "link",
    "color": "#27AE60"
  }
}
```

## 📊 測試結果

### **功能測試**
- ✅ API 回應成功
- ✅ Flex Message 結構正確
- ✅ 綠色標題設計正確
- ✅ 底部按鈕設計正確

### **效能測試**
- 📏 回應大小：~3200 字符
- ⚡ 回應時間：< 1 秒
- 🎯 結構完整性：100%

## 🚀 下一步規劃

### **1. LIFF 頁面開發**
- 創建詳細分析頁面
- 實作 XAI 視覺化
- 添加模組導航功能

### **2. 按鈕功能實作**
- 實現警訊詳情頁面
- 添加建議下一步邏輯
- 整合 LIFF 跳轉

### **3. 用戶體驗優化**
- A/B 測試不同設計
- 收集用戶反饋
- 持續迭代改進

## 📝 使用範例

### **測試案例 1：重複行為警訊**
```
輸入: "媽媽最近常重複問同樣的問題"
輸出: 
- 風險等級: 中風險
- AI 信心度: 85%
- 檢測警訊: 重複發問行為
- 建議: 密切觀察，考慮專業評估
```

### **測試案例 2：安全警訊**
```
輸入: "爸爸忘記關瓦斯爐"
輸出:
- 風險等級: 高風險  
- AI 信心度: 90%
- 檢測警訊: 記憶力減退、安全意識下降
- 建議: 立即安裝安全裝置，諮詢醫師
```

## 🔄 版本控制

### **v1.0 (當前版本)**
- ✅ 基礎 Flex Message 設計
- ✅ 綠色標題 + 進度條
- ✅ 警訊列表 + 底部按鈕
- ✅ 基本測試通過

### **v1.1 (計劃中)**
- 🔄 LIFF 頁面整合
- 🔄 動態警訊詳情
- 🔄 個性化建議系統

### **v2.0 (未來規劃)**
- 🔮 進階 XAI 視覺化
- 🔮 多模組整合導航
- 🔮 用戶偏好學習 