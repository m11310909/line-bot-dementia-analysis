# ========================================
# ğŸ“‹ M1+M2+M3 ç³»çµ±å»ºç½®é€æ­¥åŸ·è¡ŒæŒ‡å—
# ========================================

echo "ğŸ¯ é–‹å§‹ M1+M2+M3 å¤±æ™ºç—‡åˆ†æç³»çµ±å»ºç½®"
echo "ğŸ“… é ä¼°æ™‚é–“ï¼š15-20 åˆ†é˜"
echo ""

# ========================================
# æ­¥é©Ÿ 1ï¼šç’°å¢ƒæª¢æŸ¥å’Œæº–å‚™
# ========================================
echo "============================================"
echo "ğŸ“‹ æ­¥é©Ÿ 1ï¼šç’°å¢ƒæª¢æŸ¥å’Œæº–å‚™"
echo "============================================"
echo "ğŸ” æª¢æŸ¥ç•¶å‰ç’°å¢ƒ..."

# æª¢æŸ¥ Python ç‰ˆæœ¬
echo "ğŸ Python ç‰ˆæœ¬ï¼š"
python3 --version

# æª¢æŸ¥ç•¶å‰ç›®éŒ„
echo "ğŸ“ ç•¶å‰ç›®éŒ„ï¼š"
pwd

# æª¢æŸ¥ç¾æœ‰æª”æ¡ˆ
echo "ğŸ“„ ç¾æœ‰ç›¸é—œæª”æ¡ˆï¼š"
ls -la *.py *.json 2>/dev/null || echo "æ²’æœ‰æ‰¾åˆ°ç›¸é—œæª”æ¡ˆ"

# æª¢æŸ¥ç«¯å£ä½¿ç”¨æƒ…æ³
echo "ğŸ”Œ æª¢æŸ¥ç«¯å£ä½¿ç”¨æƒ…æ³ï¼š"
netstat -ln | grep :800 || echo "8000-8009 ç«¯å£éƒ½å¯ç”¨"

echo "âœ… ç’°å¢ƒæª¢æŸ¥å®Œæˆ"
echo ""

# ========================================
# æ­¥é©Ÿ 2ï¼šå»ºç«‹ M3 BPSD è³‡æ–™
# ========================================
echo "============================================"
echo "ğŸ“‹ æ­¥é©Ÿ 2ï¼šå»ºç«‹ M3 BPSD è³‡æ–™"
echo "============================================"
echo "ğŸ§  æ­£åœ¨å»ºç«‹ M3 BPSDï¼ˆè¡Œç‚ºå¿ƒç†ç—‡ç‹€ï¼‰çŸ¥è­˜åº«..."

cat > create_m3_data.py << 'EOF'
import json

def create_m3_bpsd_data():
    """å»ºç«‹ M3 BPSDï¼ˆè¡Œç‚ºå¿ƒç†ç—‡ç‹€ï¼‰çŸ¥è­˜åº«"""

    print("ğŸ§  å»ºç«‹ M3 BPSD çŸ¥è­˜åº«...")

    m3_data = [
        {
            "chunk_id": "M3-01",
            "module_id": "M3",
            "chunk_type": "bpsd_category",
            "title": "å¦„æƒ³ç—‡ç‹€",
            "content": "å¸¸è¦‹çš„å¦„æƒ³åŒ…æ‹¬ï¼šè¢«å·ç«Šå¦„æƒ³ï¼ˆæ‡·ç–‘æ±è¥¿è¢«å·ï¼‰ã€è¢«å®³å¦„æƒ³ï¼ˆèªç‚ºæœ‰äººè¦å‚·å®³è‡ªå·±ï¼‰ã€å«‰å¦’å¦„æƒ³ï¼ˆæ‡·ç–‘é…å¶ä¸å¿ ï¼‰ã€èº«é«”å¦„æƒ³ï¼ˆèªç‚ºèº«é«”æœ‰å•é¡Œï¼‰ã€‚é€™äº›ç—‡ç‹€æœƒå½±éŸ¿æ‚£è€…çš„æ—¥å¸¸ç”Ÿæ´»å’Œäººéš›é—œä¿‚ã€‚",
            "keywords": ["å¦„æƒ³", "è¢«å·", "è¢«å®³", "æ‡·ç–‘", "å·ç«Š", "å«‰å¦’", "èº«é«”"],
            "severity_indicators": {
                "è¼•åº¦": ["å¶çˆ¾æ‡·ç–‘æ±è¥¿è¢«å‹•é", "è¼•å¾®çš„ç–‘å¿ƒ"],
                "ä¸­åº¦": ["ç¶“å¸¸æŒ‡æ§å®¶äººå·æ±è¥¿", "æ˜ç¢ºçš„è¢«å®³æƒ³æ³•"],
                "é‡åº¦": ["æŒçºŒå¼·çƒˆçš„å¦„æƒ³", "å®Œå…¨ä¸ä¿¡ä»»ä»–äºº", "å¦„æƒ³å½±éŸ¿æ‰€æœ‰äº’å‹•"]
            },
            "management_strategies": [
                "é¿å…ç›´æ¥å¦å®šå¦„æƒ³",
                "è½‰ç§»æ³¨æ„åŠ›",
                "æä¾›å®‰å…¨æ„Ÿ",
                "å¿…è¦æ™‚å°‹æ±‚é†«ç™‚å”åŠ©"
            ],
            "confidence_score": 0.92,
            "source": "BPSD è‡¨åºŠæŒ‡å¼•"
        },
        {
            "chunk_id": "M3-02", 
            "module_id": "M3",
            "chunk_type": "bpsd_category",
            "title": "å¹»è¦ºç—‡ç‹€",
            "content": "å¤±æ™ºç—‡æ‚£è€…å¯èƒ½å‡ºç¾è¦–å¹»è¦ºï¼ˆçœ‹åˆ°ä¸å­˜åœ¨çš„äººæˆ–ç‰©ï¼‰ã€è½å¹»è¦ºï¼ˆè½åˆ°è²éŸ³ï¼‰ã€è§¸å¹»è¦ºï¼ˆæ„Ÿè¦ºè¢«è§¸æ‘¸ï¼‰ã€‚è¦–å¹»è¦ºæœ€å¸¸è¦‹ï¼Œç‰¹åˆ¥æ˜¯çœ‹åˆ°å·²æ•…è¦ªäººæˆ–é™Œç”Ÿäººã€‚å¹»è¦ºé€šå¸¸åœ¨å‚æ™šæˆ–å¤œé–“æ›´æ˜é¡¯ã€‚",
            "keywords": ["å¹»è¦º", "è¦–å¹»è¦º", "è½å¹»è¦º", "è§¸å¹»è¦º", "çœ‹åˆ°", "è½åˆ°", "æ„Ÿè¦º", "å‚æ™š", "å¤œé–“"],
            "severity_indicators": {
                "è¼•åº¦": ["å¶çˆ¾çœ‹åˆ°æ¨¡ç³Šå½±åƒ", "ä¸ç¢ºå®šæ˜¯å¦çœŸå¯¦"],
                "ä¸­åº¦": ["æ¸…æ¥šçœ‹åˆ°æˆ–è½åˆ°ä¸å­˜åœ¨çš„äº‹ç‰©", "æœƒèˆ‡å¹»è¦ºäº’å‹•"],
                "é‡åº¦": ["æŒçºŒä¸”ç”Ÿå‹•çš„å¹»è¦º", "å®Œå…¨ç›¸ä¿¡å¹»è¦ºçš„çœŸå¯¦æ€§", "åš´é‡å½±éŸ¿è¡Œç‚º"]
            },
            "management_strategies": [
                "æ”¹å–„ç…§æ˜ç’°å¢ƒ",
                "æª¢æŸ¥æ˜¯å¦æœ‰æ„ŸæŸ“æˆ–ç”¨è—¥å•é¡Œ", 
                "æä¾›å®‰æ’«å’Œç¾å¯¦å°å‘",
                "é¿å…çˆ­è«–å¹»è¦ºçš„çœŸå¯¦æ€§"
            ],
            "confidence_score": 0.89,
            "source": "BPSD è‡¨åºŠæŒ‡å¼•"
        },
        {
            "chunk_id": "M3-03",
            "module_id": "M3", 
            "chunk_type": "bpsd_category",
            "title": "æ¿€å‹•èˆ‡æ”»æ“Šè¡Œç‚º",
            "content": "åŒ…æ‹¬è¨€èªæ”»æ“Šï¼ˆå¤§è²å«ç½µã€å¨è„…ï¼‰å’Œèº«é«”æ”»æ“Šï¼ˆæ‰“äººã€è¸¢äººã€å’¬äººï¼‰ã€‚é€šå¸¸ç”±æŒ«æŠ˜æ„Ÿã€ç–¼ç—›ã€ç’°å¢ƒåˆºæ¿€æˆ–ç…§è­·æ–¹å¼ä¸ç•¶å¼•èµ·ã€‚æ”»æ“Šè¡Œç‚ºå¾€å¾€æœ‰ç‰¹å®šè§¸ç™¼å› å­ã€‚",
            "keywords": ["æ¿€å‹•", "æ”»æ“Š", "æš´åŠ›", "æ‰“äºº", "è¸¢äºº", "å’¬äºº", "å«ç½µ", "å¨è„…", "æš´èº"],
            "severity_indicators": {
                "è¼•åº¦": ["å¶çˆ¾æé«˜éŸ³é‡", "è¼•å¾®çš„ä¸è€ç…©"],
                "ä¸­åº¦": ["å®šæœŸå‡ºç¾æ¿€å‹•", "å¶çˆ¾çš„èº«é«”æ”»æ“Š", "éœ€è¦å‹¸é˜»"],
                "é‡åº¦": ["é »ç¹ä¸”å¼·çƒˆçš„æ”»æ“Šè¡Œç‚º", "é€ æˆå®‰å…¨å¨è„…", "éœ€è¦ç«‹å³ä»‹å…¥"]
            },
            "management_strategies": [
                "è­˜åˆ¥å’Œé¿å…è§¸ç™¼å› å­",
                "ä¿æŒå†·éœå’Œå®‰å…¨è·é›¢",
                "ä½¿ç”¨è½‰ç§»æ³¨æ„åŠ›æŠ€å·§",
                "è©•ä¼°ç–¼ç—›æˆ–ä¸é©",
                "è€ƒæ…®è—¥ç‰©æ²»ç™‚"
            ],
            "confidence_score": 0.94,
            "source": "BPSD è‡¨åºŠæŒ‡å¼•"
        },
        {
            "chunk_id": "M3-04",
            "module_id": "M3",
            "chunk_type": "bpsd_category", 
            "title": "æ†‚é¬±èˆ‡ç„¦æ…®",
            "content": "å¤±æ™ºç—‡æ‚£è€…å¸¸å‡ºç¾æ†‚é¬±ç—‡ç‹€ï¼šæŒçºŒæ‚²å‚·ã€å¤±å»èˆˆè¶£ã€ç¡çœ å•é¡Œã€é£Ÿæ…¾æ”¹è®Šã€‚ç„¦æ…®è¡¨ç¾ç‚ºéåº¦æ“”å¿ƒã€åç«‹ä¸å®‰ã€é‡è¤‡è¡Œç‚ºã€‚é€™äº›æƒ…ç·’å•é¡ŒæœƒåŠ é€ŸèªçŸ¥åŠŸèƒ½é€€åŒ–ã€‚",
            "keywords": ["æ†‚é¬±", "ç„¦æ…®", "æ‚²å‚·", "æ“”å¿ƒ", "åç«‹ä¸å®‰", "ç¡çœ å•é¡Œ", "é£Ÿæ…¾", "é‡è¤‡è¡Œç‚º"],
            "severity_indicators": {
                "è¼•åº¦": ["å¶çˆ¾æƒ…ç·’ä½è½", "è¼•å¾®æ“”æ†‚"],
                "ä¸­åº¦": ["æ˜é¡¯çš„æ†‚é¬±æˆ–ç„¦æ…®ç—‡ç‹€", "å½±éŸ¿æ—¥å¸¸æ´»å‹•"],
                "é‡åº¦": ["åš´é‡æ†‚é¬±", "è‡ªå‚·é¢¨éšª", "å®Œå…¨å¤±å»èˆˆè¶£", "æ¥µåº¦ç„¦æ…®"]
            },
            "management_strategies": [
                "æä¾›æƒ…æ„Ÿæ”¯æŒå’Œé™ªä¼´",
                "ç¶­æŒè¦å¾‹ä½œæ¯",
                "é¼“å‹µé©åº¦æ´»å‹•",
                "éŸ³æ¨‚æˆ–è—è¡“ç™‚æ³•",
                "å¿…è¦æ™‚ä½¿ç”¨æŠ—æ†‚é¬±è—¥ç‰©"
            ],
            "confidence_score": 0.90,
            "source": "BPSD è‡¨åºŠæŒ‡å¼•"
        },
        {
            "chunk_id": "M3-05",
            "module_id": "M3",
            "chunk_type": "bpsd_category",
            "title": "éŠèµ°èˆ‡é‡è¤‡è¡Œç‚º", 
            "content": "éŠèµ°è¡Œç‚ºåŒ…æ‹¬ç„¡ç›®çš„èµ°å‹•ã€è©¦åœ–é›¢å®¶ã€é‡è¤‡èµ°åŒä¸€è·¯ç·šã€‚é‡è¤‡è¡Œç‚ºå¦‚åè¦†æ”¶æ‹¾æ±è¥¿ã€é‡è¤‡è©¢å•åŒæ¨£å•é¡Œã€é‡è¤‡å‹•ä½œã€‚é€™äº›è¡Œç‚ºé€šå¸¸åæ˜ å…§åœ¨éœ€æ±‚æˆ–ä¸å®‰ã€‚",
            "keywords": ["éŠèµ°", "èµ°å‹•", "é›¢å®¶", "é‡è¤‡", "æ”¶æ‹¾", "è©¢å•", "ä¸å®‰", "è·¯ç·š"],
            "severity_indicators": {
                "è¼•åº¦": ["å¶çˆ¾ç„¡ç›®çš„èµ°å‹•", "è¼•å¾®é‡è¤‡è¡Œç‚º"],
                "ä¸­åº¦": ["å®šæœŸéŠèµ°è¡Œç‚º", "æ˜é¡¯é‡è¤‡å‹•ä½œ", "éœ€è¦ç›£ç£"],
                "é‡åº¦": ["æŒçºŒä¸”å±éšªçš„éŠèµ°", "æ¥µåº¦é‡è¤‡è¡Œç‚º", "åš´é‡å®‰å…¨é¢¨éšª"]
            },
            "management_strategies": [
                "ç¢ºä¿ç’°å¢ƒå®‰å…¨",
                "æä¾›çµæ§‹åŒ–æ´»å‹•",
                "æ»¿è¶³åŸºæœ¬éœ€æ±‚ï¼ˆé£¢é¤“ã€å¦‚å»ï¼‰",
                "ä½¿ç”¨è¿½è¹¤è¨­å‚™",
                "è½‰ç§»æ³¨æ„åŠ›åˆ°å®‰å…¨æ´»å‹•"
            ],
            "confidence_score": 0.88,
            "source": "BPSD è‡¨åºŠæŒ‡å¼•"
        },
        {
            "chunk_id": "M3-06",
            "module_id": "M3",
            "chunk_type": "bpsd_category",
            "title": "ç¡çœ éšœç¤™èˆ‡æ—¥å¤œé¡›å€’",
            "content": "åŒ…æ‹¬å¤œé–“å¤±çœ ã€ç™½å¤©éåº¦å—œç¡ã€æ—¥å¤œç¯€å¾‹ç´Šäº‚ã€å¤œé–“æ¿€å‹•ï¼ˆæ—¥è½ç—‡å€™ç¾¤ï¼‰ã€‚ç¡çœ å•é¡ŒæœƒåŠ é‡å…¶ä»– BPSD ç—‡ç‹€ï¼Œä¹Ÿå¢åŠ ç…§è­·è€…è² æ“”ã€‚",
            "keywords": ["ç¡çœ ", "å¤±çœ ", "å—œç¡", "æ—¥å¤œé¡›å€’", "æ—¥è½ç—‡å€™ç¾¤", "å¤œé–“", "æ¿€å‹•"],
            "severity_indicators": {
                "è¼•åº¦": ["å¶çˆ¾ç¡çœ ä¸ä½³", "è¼•å¾®æ—¥å¤œæ··æ·†"],
                "ä¸­åº¦": ["æ˜é¡¯ç¡çœ æ¨¡å¼æ”¹è®Š", "å¤œé–“é »ç¹é†’ä¾†"],
                "é‡åº¦": ["å®Œå…¨æ—¥å¤œé¡›å€’", "åš´é‡å¤œé–“æ¿€å‹•", "æ¥µå°‘æ·±åº¦ç¡çœ "]
            },
            "management_strategies": [
                "ç¶­æŒè¦å¾‹ä½œæ¯",
                "å¢åŠ ç™½å¤©å…‰ç…§",
                "é™åˆ¶ç™½å¤©å°ç¡",
                "ç¡å‰æ”¾é¬†æ´»å‹•",
                "å¿…è¦æ™‚ä½¿ç”¨ç¡çœ è—¥ç‰©"
            ],
            "confidence_score": 0.91,
            "source": "BPSD è‡¨åºŠæŒ‡å¼•"
        },
        {
            "chunk_id": "M3-07",
            "module_id": "M3",
            "chunk_type": "bpsd_category",
            "title": "é£Ÿæ…¾èˆ‡é£²é£Ÿè¡Œç‚ºæ”¹è®Š",
            "content": "å¯èƒ½å‡ºç¾é£Ÿæ…¾å®Œå…¨å–ªå¤±ã€æš´é£²æš´é£Ÿã€ååš¥å›°é›£ã€æ‹’çµ•é€²é£Ÿã€åƒéé£Ÿç‰©ç‰©å“ã€å¿˜è¨˜å·²ç¶“ç”¨é¤ã€‚é€™äº›æ”¹è®Šæœƒå½±éŸ¿ç‡Ÿé¤Šç‹€æ…‹å’Œèº«é«”å¥åº·ã€‚",
            "keywords": ["é£Ÿæ…¾", "é£²é£Ÿ", "æš´é£Ÿ", "æ‹’çµ•é€²é£Ÿ", "ååš¥å›°é›£", "å¿˜è¨˜ç”¨é¤", "ç‡Ÿé¤Š"],
            "severity_indicators": {
                "è¼•åº¦": ["å¶çˆ¾å¿˜è¨˜ç”¨é¤", "é£Ÿæ…¾ç•¥æ¸›"],
                "ä¸­åº¦": ["æ˜é¡¯é£²é£Ÿç¿’æ…£æ”¹è®Š", "éœ€è¦æé†’ç”¨é¤"],
                "é‡åº¦": ["å®Œå…¨æ‹’çµ•é€²é£Ÿ", "ç‡Ÿé¤Šä¸è‰¯é¢¨éšª", "éœ€è¦å”åŠ©é¤µé£Ÿ"]
            },
            "management_strategies": [
                "å®šæ™‚ç”¨é¤æé†’",
                "æä¾›å–œæ„›é£Ÿç‰©",
                "ç°¡åŒ–ç”¨é¤ç’°å¢ƒ",
                "ç›£æ¸¬é«”é‡è®ŠåŒ–",
                "è©•ä¼°ååš¥åŠŸèƒ½"
            ],
            "confidence_score": 0.87,
            "source": "BPSD è‡¨åºŠæŒ‡å¼•"
        }
    ]

    return m3_data

def save_m3_data():
    """å„²å­˜ M3 BPSD è³‡æ–™"""
    m3_data = create_m3_bpsd_data()

    with open('m3_bpsd_data.json', 'w', encoding='utf-8') as f:
        json.dump(m3_data, f, ensure_ascii=False, indent=2)

    print(f"âœ… M3 BPSD è³‡æ–™å·²å„²å­˜ï¼š{len(m3_data)} å€‹çŸ¥è­˜ç‰‡æ®µ")

    # é¡¯ç¤ºæ‘˜è¦
    print("\nğŸ“Š M3 BPSD æ¨¡çµ„æ‘˜è¦ï¼š")
    for item in m3_data:
        print(f"   {item['chunk_id']}: {item['title']}")

    return m3_data

if __name__ == "__main__":
    print("ğŸ§  å»ºç«‹ M3 BPSD æ¨¡çµ„...")
    save_m3_data()
    print("ğŸ‰ M3 æ¨¡çµ„å»ºç«‹å®Œæˆï¼")
EOF

echo "ğŸ“„ M3 è³‡æ–™å»ºç«‹è…³æœ¬å·²å‰µå»º"
echo "â–¶ï¸  åŸ·è¡Œ M3 è³‡æ–™å»ºç«‹..."
python3 create_m3_data.py

echo "âœ… æ­¥é©Ÿ 2 å®Œæˆï¼šM3 BPSD è³‡æ–™å»ºç«‹æˆåŠŸ"
echo ""

# ========================================
# æ­¥é©Ÿ 3ï¼šå»ºç«‹æ•´åˆåˆ†æå¼•æ“
# ========================================
echo "============================================"
echo "ğŸ“‹ æ­¥é©Ÿ 3ï¼šå»ºç«‹ M1+M2+M3 æ•´åˆåˆ†æå¼•æ“"
echo "============================================"
echo "âš™ï¸  æ­£åœ¨å»ºç«‹æ•´åˆåˆ†æå¼•æ“..."

cat > m1_m2_m3_integrated_rag.py << 'EOF'
# ç°¡åŒ–ç‰ˆ M1+M2+M3 æ•´åˆå¼•æ“
import json
import re
from datetime import datetime
from typing import Dict, List, Any, Optional

class AnalysisResult:
    """åˆ†æçµæœè³‡æ–™çµæ§‹"""
    def __init__(self):
        self.matched_codes = []
        self.symptom_titles = []
        self.confidence_levels = []
        self.bpsd_analysis = None
        self.stage_detection = None
        self.comprehensive_summary = ""
        self.action_suggestions = []
        self.retrieved_chunks = []
        self.modules_used = []

class M1M2M3IntegratedEngine:
    """M1+M2+M3 æ•´åˆåˆ†æå¼•æ“"""

    def __init__(self, api_key=None):
        self.api_key = api_key
        self.chunks = []
        self.vocabulary = set()

        print("ğŸš€ åˆå§‹åŒ– M1+M2+M3 æ•´åˆå¼•æ“...")
        self._load_all_modules()
        self._build_search_index()
        print("âœ… M1+M2+M3 æ•´åˆå¼•æ“åˆå§‹åŒ–å®Œæˆ")

    def _load_all_modules(self):
        """è¼‰å…¥æ‰€æœ‰æ¨¡çµ„è³‡æ–™"""

        # è¼‰å…¥ M1 è³‡æ–™
        print("ğŸ“Š è¼‰å…¥ M1 è³‡æ–™...")
        m1_data = self._create_m1_data()
        self.chunks.extend(m1_data)
        print(f"âœ… M1 è¼‰å…¥ï¼š{len(m1_data)} å€‹çŸ¥è­˜ç‰‡æ®µ")

        # è¼‰å…¥ M2 è³‡æ–™
        print("ğŸ“Š è¼‰å…¥ M2 è³‡æ–™...")
        try:
            with open('m2_stage_data.json', 'r', encoding='utf-8') as f:
                m2_data = json.load(f)
                self.chunks.extend(m2_data)
                print(f"âœ… M2 è¼‰å…¥ï¼š{len(m2_data)} å€‹çŸ¥è­˜ç‰‡æ®µ")
        except FileNotFoundError:
            print("âš ï¸  M2 è³‡æ–™æª”æ¡ˆæœªæ‰¾åˆ°ï¼Œè·³é M2 æ¨¡çµ„")

        # è¼‰å…¥ M3 è³‡æ–™  
        print("ğŸ“Š è¼‰å…¥ M3 BPSD è³‡æ–™...")
        try:
            with open('m3_bpsd_data.json', 'r', encoding='utf-8') as f:
                m3_data = json.load(f)
                self.chunks.extend(m3_data)
                print(f"âœ… M3 è¼‰å…¥ï¼š{len(m3_data)} å€‹çŸ¥è­˜ç‰‡æ®µ")
        except FileNotFoundError:
            print("âš ï¸  M3 è³‡æ–™æª”æ¡ˆæœªæ‰¾åˆ°")

        total_chunks = len(self.chunks)
        print(f"ğŸ¯ ç¸½è¨ˆè¼‰å…¥ï¼š{total_chunks} å€‹çŸ¥è­˜ç‰‡æ®µ")

        # çµ±è¨ˆå„æ¨¡çµ„
        m1_count = len([c for c in self.chunks if c.get("chunk_id", "").startswith("M1")])
        m2_count = len([c for c in self.chunks if c.get("module_id") == "M2"])
        m3_count = len([c for c in self.chunks if c.get("module_id") == "M3"])

        print(f"ğŸ“‹ æ¨¡çµ„åˆ†å¸ƒï¼šM1({m1_count}) + M2({m2_count}) + M3({m3_count}) = {total_chunks}")

    def _create_m1_data(self):
        """å‰µå»º M1 åå¤§è­¦è¨Šè³‡æ–™"""
        return [
            {
                "chunk_id": "M1-01",
                "title": "è¨˜æ†¶åŠ›æ¸›é€€å½±éŸ¿æ—¥å¸¸ç”Ÿæ´»",
                "content": "æ­£å¸¸è€åŒ–ï¼šå¶çˆ¾å¿˜è¨˜ç´„æœƒä½†äº‹å¾Œæœƒæƒ³èµ·ä¾†ã€‚å¤±æ™ºè­¦è¨Šï¼šå¿˜è¨˜å‰›ç™¼ç”Ÿçš„äº‹ã€é‡è¦æ—¥æœŸæˆ–äº‹ä»¶ï¼›åè¦†è©¢å•åŒæ¨£äº‹æƒ…ã€‚",
                "keywords": ["è¨˜æ†¶", "å¥å¿˜", "å¿˜è¨˜", "é‡è¤‡", "æ—¥å¸¸ç”Ÿæ´»"],
                "confidence_score": 0.95,
                "source": "TADA åå¤§è­¦è¨Š"
            },
            {
                "chunk_id": "M1-02", 
                "title": "ç„¡æ³•å‹ä»»